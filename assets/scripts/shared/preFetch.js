import{attachMultipleEventHandlerBySelectorAll as e}from"./eventHandlers.js";let updateNavbarActiveState=e=>{let t=document.querySelectorAll(".nav-item");t.forEach(t=>{let a=t.querySelector("a");a&&(a.href===e?t.classList.add("active"):t.classList.remove("active"))})},updateMainStyles=(e,t)=>{let a=document.querySelector(t),s=document.querySelector("html");a.classList.remove("index","dashboard","map","data"),"http://suidata.pages.dev/"===e?(a.classList.add("about-container"),s.classList.remove("no-scroll")):"http://suidata.pages.dev/dashboard.html"===e?(a.classList.add("dashboard-container"),s.classList.remove("no-scroll")):"http://suidata.pages.dev/map.html"===e?(a.classList.add("map-container"),s.classList.remove("no-scroll")):"http://suidata.pages.dev/data.html"===e&&(a.classList.add("data-container"),s.classList.add("no-scroll"))},scrollToTop=(e,t)=>{window.scrollTo({top:e,behavior:t})},handlePreFetching=async(e,t,a)=>{e.preventDefault();let s=t.href,r=document.querySelector(a);await fetch(s).then(e=>e.text()).then(e=>{let t=new DOMParser,l=t.parseFromString(e,"text/html"),o=l.querySelector(a).innerHTML;r.innerHTML=o,window.history.pushState({},"",s)}).catch(e=>console.error(`Error prefetching: ${e}`)),updateMainStyles(s,a),updateNavbarActiveState(s),scrollToTop(0,"smooth")},setupPreFetching=()=>{e(".nav-item","click",handlePreFetching,"main")};export{setupPreFetching};